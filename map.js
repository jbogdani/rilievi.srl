const lavori = [
  {
    id: 9203,
    country: "Italia",
    city: "Roma",
    placename: "Galleria Borghese",
    customer: "Arch. Ioppolo",
    lat: 41.91422778,
    lng: 12.49219167,
  },
  {
    id: 9213,
    country: "Italia",
    city: "Roma",
    placename: "S. Caterina da Siena in Magnanapoli",
    customer: "Arch. Ioppolo",
    lat: 41.89608889,
    lng: 12.486925,
  },
  {
    id: 9215,
    country: "Italia",
    city: "Roma",
    placename: "Fontana monumentale in Piazza di Campitelli",
    customer: "Lithos S.r.l.",
    lat: 41.89295278,
    lng: 12.47978611,
  },
  {
    id: 9404,
    country: "Italia",
    city: "Roma",
    placename: "Ponte S. Angelo",
    customer: "Arch. Ioppolo",
    lat: 41.90189444,
    lng: 12.46645556,
  },
  {
    id: 9410,
    country: "Italia",
    city: "Roma",
    placename: "Carcere Mamertino",
    customer: "Arch. Ioppolo",
    lat: 41.89319167,
    lng: 12.48450556,
  },
  {
    id: 9602,
    country: "Italia",
    city: "Roma",
    placename: "Testa da Basilea",
    customer: "I.C.R.",
    lat: 41.88515833,
    lng: 12.47554722,
  },
  {
    id: 9807,
    country: "Italia",
    city: "Roma",
    placename: "Mausoleo di Adriano",
    customer: "Arch. Ioppolo",
    lat: 41.90312222,
    lng: 12.46635,
  },
  {
    id: 9809,
    country: "Italia",
    city: "Roma",
    placename: "Fregio del Pantheon",
    customer: "Arch. Ioppolo",
    lat: 41.89888056,
    lng: 12.47682222,
  },
  {
    id: 9811,
    country: "Italia",
    city: "Roma",
    placename: "Via Anagnina 81",
    customer: "Arch. Ioppolo",
    lat: 41.83580833,
    lng: 12.593625,
  },
  {
    id: 9901,
    country: "Italia",
    city: "Roma",
    placename: "Terme di Caracalla",
    customer: "Soprintendenza Archeologica di Roma",
    lat: 41.87891389,
    lng: 12.49255556,
  },
  {
    id: "0007",
    country: "Italia",
    city: "Roma",
    placename: "Anna Perenna",
    customer: "Soprintendenza Archeologica di Roma",
    lat: 41.90390833,
    lng: 12.49798056,
  },
  {
    id: "0008",
    country: "Italia",
    city: "Roma",
    placename: "Ex Caserma Montello",
    customer: "Soprintendenza Archeologica di Roma",
    lat: 41.92864167,
    lng: 12.46580278,
  },
  {
    id: "0111",
    country: "Italia",
    city: "Roma",
    placename: "Galleria d'Arte Moderna",
    customer: "Soprintendenza Archeologica di Roma",
    lat: 41.91722222,
    lng: 12.48228056,
  },
  {
    id: "0115",
    country: "Italia",
    city: "Roma",
    placename: "Basilica di Massenzio",
    customer: "Prof. Samuelli",
    lat: 41.89204444,
    lng: 12.48835556,
  },
  {
    id: "0318",
    country: "Italia",
    city: "Roma",
    placename: "Via Santa Maria in Monticelli",
    customer: "Soprintendenza Archeologica di Roma",
    lat: 41.89325556,
    lng: 12.47451111,
  },
  {
    id: "0411",
    country: "Italia",
    city: "Roma",
    placename: "Olgiata Golf Club",
    customer: "Olgiata Golf Club",
    lat: 42.03935556,
    lng: 12.36879167,
  },
  {
    id: "0809",
    country: "Italia",
    city: "Roma",
    placename: "Stadio Flaminio",
    customer: "La Gorgone di Francesca Bonanni",
    lat: 41.92698333,
    lng: 12.4723,
  },
  {
    id: 1110,
    country: "Italia",
    city: "Roma",
    placename: "Entrata del Vignola",
    customer: "Soprintendenza Archeologica di Roma",
    lat: 41.88783889,
    lng: 12.48967778,
  },
  {
    id: 1507,
    country: "Italia",
    city: "Roma",
    placename: "Marco Simone Golf & country Club",
    customer: "Marco Simone Golf & country Club",
    lat: 41.96079722,
    lng: 12.63445278,
  },
  {
    id: 2111,
    country: "Italia",
    city: "Roma",
    placename: "Parco delle Rupicole",
    customer: "Arch. Von Normann",
    lat: 41.86013333,
    lng: 12.59465278,
  },
  {
    id: 9202,
    country: "Italia",
    city: "Ercolano",
    placename: "Fornici sul fronte a mare",
    customer: "Ranieri Restauri",
    lat: 40.80553889,
    lng: 14.34631389,
  },
  {
    id: 9205,
    country: "Italia",
    city: "Campogalliano",
    placename:
      "Somiere dell'organo della chiesa di S. Maria in Strada Ponte in Valtellina (So)",
    customer: "Marco Fratti S.r.l.",
    lat: 44.69313611,
    lng: 10.84073056,
  },
  {
    id: 9412,
    country: "Italia",
    city: "Palermo",
    placename: "Ceramiche del Museo Nazionale della Sicilia",
    customer: "Is.M.E.O.",
    lat: 38.12080278,
    lng: 13.36030278,
  },
  {
    id: 9606,
    country: "Italia",
    city: "Arenzano",
    placename: "Palazzina in Via Dante Alighieri 17",
    customer: "Arch. Lorenzini",
    lat: 44.40549722,
    lng: 8.682380556,
  },
  {
    id: 9607,
    country: "Italia",
    city: "Catania",
    placename: "Ceramiche Islamiche del Museo Civico",
    customer: "Is.I.A.O.",
    lat: 37.49898333,
    lng: 15.08461944,
  },
  {
    id: 9704,
    country: "Italia",
    city: "Cefalà Diana",
    placename: "Terme Arabo Normanne",
    customer: "Soprintendenza ai  BB.CC.AA. di Palermo",
    lat: 37.93039722,
    lng: 13.47232778,
  },
  {
    id: "0116",
    country: "Italia",
    city: "Pompei",
    placename: "Palestra dei Gladiatori - Reg. V Ins. V",
    customer: "Arch. Benedetti",
    lat: 40.75288333,
    lng: 14.48846389,
  },
  {
    id: "0419",
    country: "Italia",
    city: "Pompei",
    placename: "Insula Occidentalis VII - 16",
    customer: "Geogrà S.r.l.",
    lat: 40.74888611,
    lng: 14.48334722,
  },
  {
    id: "0210",
    country: "Italia",
    city: "Cosenza",
    placename: "Fortezza di S. Niceto",
    customer: "Università della Calabria",
    lat: 38.02673611,
    lng: 15.70718889,
  },
  {
    id: "0407",
    country: "Italia",
    city: "Fasano",
    placename: "S. Vigilia",
    customer: "Fondazione S. Domenico",
    lat: 40.84066667,
    lng: 17.41776667,
  },
  {
    id: 2014,
    country: "Italia",
    city: "Rovigo",
    placename: "Piste Ciclabili",
    customer: "Universita di Padova",
    lat: 45.06905833,
    lng: 11.79167222,
  },
  {
    id: 2027,
    country: "Italia",
    city: "Lucca",
    placename: "Palazzo Ducale",
    customer: "Segretariato Regionale per la Toscana",
    lat: 43.84153611,
    lng: 10.50197778,
  },
  {
    id: 2119,
    country: "Italia",
    city: "Bagnaia",
    placename: "Villa Lante",
    customer: "Direzione Regionale Musei Lazio",
    lat: 42.42564167,
    lng: 12.15535556,
  },
  {
    id: 2202,
    country: "Italia",
    city: "Corteolona e Genzone",
    placename: "Termovalorizzatore",
    customer: "A2A S.p.a.",
    lat: 45.16990278,
    lng: 9.362541667,
  },
  {
    id: 9304,
    country: "Pakistan",
    city: "Udegram",
    placename: "Raja Gira Mosque",
    customer: "Is.M.E.O.",
    lat: 34.74315833,
    lng: 72.31431667,
  },
  {
    id: "0905",
    country: "Pakistan",
    city: "Askole",
    placename: "SEED Project (Askole Valley and Blaldu Valley)",
    customer: "Is.I.A.O. - Ev-K2-CNR Committee",
    lat: 35.68211389,
    lng: 75.81750833,
  },
  {
    id: 1211,
    country: "Pakistan",
    city: "Swat",
    placename: "Jahanabad' Buddha",
    customer: "Is.M.E.O.",
    lat: 34.8113,
    lng: 72.46744444,
  },
  {
    id: 1505,
    country: "Pakistan",
    city: "Swat",
    placename: "Wooden Mosques and Wood Craftsmen",
    customer: "Is.M.E.O.",
    lat: 34.75614722,
    lng: 72.36031667,
  },
  {
    id: 9908,
    country: "Iran",
    city: "Esfahan",
    placename: "Masgid-i  Jumà",
    customer: "Is.I.A.O.",
    lat: 32.66313611,
    lng: 51.67450278,
  },
  {
    id: "0511",
    country: "Iran",
    city: "Bam",
    placename: "Bam",
    customer: "Ministero Beni Culturali",
    lat: 29.11446389,
    lng: 58.36881667,
  },
  {
    id: "0806",
    country: "Iran",
    city: "Nishapur",
    placename: "Nishapur",
    customer: "Musée du Louvre",
    lat: 36.17095278,
    lng: 58.84723056,
  },
  {
    id: "0907",
    country: "Iran",
    city: "Rayy",
    placename: "Rayy",
    customer: "Musée du Louvre",
    lat: 35.60519444,
    lng: 51.45018889,
  },
  {
    id: 1610,
    country: "Iran",
    city: "Esfahan",
    placename: "Pigeon Towers",
    customer: "Is.M.E.O.",
    lat: 32.61525556,
    lng: 51.66996111,
  },
  {
    id: 1709,
    country: "Iran",
    city: "Dargaz",
    placename:
      "Mission Archéologique Franco-Iranienne dans le Khorasan (MAFIK)",
    customer: "Musée du Louvre",
    lat: 37.46276389,
    lng: 59.10144722,
  },
  {
    id: 1709,
    country: "Iran",
    city: "Robat-e Sefid",
    placename:
      "Mission Archéologique Franco-Iranienne dans le Khorasan (MAFIK)",
    customer: "Musée du Louvre",
    lat: 35.76272222,
    lng: 59.37792222,
  },
  {
    id: "0917",
    country: "Uzbekistan",
    city: "Paykent",
    placename: "Mission Archéologique Franco-Ouzbèke dans l'Oasis de Boukhara",
    customer: "Musée du Louvre",
    lat: 39.58670278,
    lng: 64.01056111,
  },
  {
    id: "0917",
    country: "Uzbekistan",
    city: "Romitan",
    placename: "Mission Archéologique Franco-Ouzbèke dans l'Oasis de Boukhara",
    customer: "Musée du Louvre",
    lat: 39.91090833,
    lng: 64.26910556,
  },
  {
    id: "0917",
    country: "Uzbekistan",
    city: "Bukhara",
    placename: "Mission Archéologique Franco-Ouzbèke dans l'Oasis de Boukhara",
    customer: "Musée du Louvre",
    lat: 39.77787222,
    lng: 64.41094722,
  },
  {
    id: "0917",
    country: "Uzbekistan",
    city: "Iskijkat",
    placename: "Mission Archéologique Franco-Ouzbèke dans l'Oasis de Boukhara",
    customer: "Musée du Louvre",
    lat: 39.97093611,
    lng: 64.61849722,
  },
  {
    id: "0917",
    country: "Uzbekistan",
    city: "Varaksha",
    placename: "Mission Archéologique Franco-Ouzbèke dans l'Oasis de Boukhara",
    customer: "Musée du Louvre",
    lat: 39.86365833,
    lng: 64.07300556,
  },
  {
    id: 2108,
    country: "Uzbekistan",
    city: "Samarcanda",
    placename: "Wooden panels from Kafir Kala",
    customer: "Elie-Lefebvre Conservation SASU",
    lat: 39.68091389,
    lng: 66.98283889,
  },
  {
    id: "0512",
    country: "Afghanistan",
    city: "Jam",
    placename: "Jam Minaret",
    customer: "M.J.A.P.",
    lat: 34.39649444,
    lng: 64.51568889,
  },
  {
    id: "0805",
    country: "Afghanistan",
    city: "Ghazni",
    placename: "Palazzo di Masud III",
    customer: "Is.I.A.O.",
    lat: 33.56783056,
    lng: 68.44266667,
  },
  {
    id: 1207,
    country: "Afghanistan",
    city: "Kabul",
    placename: "Museo Kabul",
    customer: "Università degli Studi di Napoli L'Orientale",
    lat: 34.46707778,
    lng: 69.12005,
  },
  {
    id: 1611,
    country: "Afghanistan",
    city: "Mes Aynak",
    placename: "Mes Aynak",
    customer: "UNESCO Kabul Office",
    lat: 34.27004722,
    lng: 69.30674722,
  },
  {
    id: 1713,
    country: "Afghanistan",
    city: "Bamiyan",
    placename: "Shahr-e Gholghola",
    customer: "UNESCO Kabul Office",
    lat: 34.81814167,
    lng: 67.83946389,
  },
  {
    id: 1906,
    country: "Afghanistan",
    city: "Bamiyan",
    placename: "Buddha Cliff",
    customer: "UNESCO Kabul Office",
    lat: 34.83082222,
    lng: 67.82660833,
  },
  {
    id: "0117",
    country: "Siria",
    city: "Homs",
    placename: "Homs Citadel Project",
    customer: "SOAS University London",
    lat: 34.72346944,
    lng: 36.7144,
  },
  {
    id: 2310,
    country: "Siria",
    city: "Taybat al-Imam",
    placename: "Taybat al-Imam Museum",
    customer: "Is.M.E.O.",
    lat: 35.26532778,
    lng: 36.70532778,
  },
  {
    id: 2001,
    country: "Giordania",
    city: "Petra",
    placename: "Palace Tomb",
    customer: "UNESCO Hamman Office",
    lat: 30.32903056,
    lng: 35.4499,
  },
  {
    id: 2312,
    country: "India",
    city: "Ladakh",
    placename: "Turtuk",
    customer: "Is.M.E.O.",
    lat: 34.84282778,
    lng: 76.83161667,
  },
  {
    id: 2312,
    country: "India",
    city: "Ladakh",
    placename: "Yogma Kharbu",
    customer: "Is.M.E.O.",
    lat: 34.52283056,
    lng: 76.42937222,
  },
  {
    id: 2312,
    country: "India",
    city: "Ladakh",
    placename: "Old Lady Spider Cave",
    customer: "Is.M.E.O.",
    lat: 34.55258611,
    lng: 76.42295278,
  },
  {
    id: 2312,
    country: "India",
    city: "Ladakh",
    placename: "Tilichang",
    customer: "Is.M.E.O.",
    lat: 34.59629722,
    lng: 76.52413611,
  },
  {
    id: 2320,
    country: "Arabia Saudita",
    city: "Al-Ula",
    placename: "Mada'in Salih",
    customer: "Geogrà STP a R.L.",
    lat: 26.80809722,
    lng: 37.95088056,
  },
  {
    id: 2317,
    country: "Thailandia",
    city: "Lopburi",
    placename: "Lo.R.A.P. Project",
    customer: "Is.M.E.O.",
    lat: 14.79966667,
    lng: 100.6106667,
  },
  {
    id: 1902,
    country: "Algeria",
    city: "Biskra",
    placename: "Biskra",
    customer: "Universita di Padova",
    lat: 34.85072222,
    lng: 5.730583333,
  },
  {
    id: 2003,
    country: "Sudafrica",
    city: "Sterkfontein",
    placename: "Sterkfontein Caves",
    customer: "Wits University Johannesburg",
    lat: -26.01639722,
    lng: 27.73351389,
  },
  {
    id: 2211,
    country: "Sudafrica",
    city: "Lebenya",
    placename: "MAEASaM Project",
    customer: "Wits University Johannesburg",
    lat: -25.62682778,
    lng: 26.62015278,
  },
  {
    id: 2211,
    country: "Sudafrica",
    city: "Molokwane",
    placename: "MAEASaM Project",
    customer: "Wits University Johannesburg",
    lat: -25.66608611,
    lng: 27.06220556,
  },
  {
    id: 2007,
    country: "Botswana",
    city: "Lobatse",
    placename: "Metsemegologolo Project",
    customer: "Wits University Johannesburg",
    lat: -25.20325556,
    lng: 25.68279722,
  },
];
const map = L.map("map", {
  scrollWheelZoom: false,
}).setView([41.8602353, 12.4747776], 13);
L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
  maxZoom: 19,
  attribution:
    '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
}).addTo(map);

const markers = L.markerClusterGroup();
lavori.forEach((l) => {
  markers.addLayer(
    L.marker([l.lat, l.lng]).bindPopup(
      `${l["placename"]}, ${l.city} (${l.country})
      <br>
      Customer: <strong>${l.customer}</strong>`
    )
  );
});
map.addLayer(markers);
map.fitBounds(markers.getBounds());

L.Control.Rilievi = L.Control.extend({
  onAdd: function (map) {
    const div = L.DomUtil.create("div");
    div.classList.add("leaflet-control", "leaflet-bar", "p-2");
    div.style.background = 'rgba(255, 255, 255, .6)'
    div.innerHTML = `<h3>Rilievi s.r.l.</h3>
    <p>Mappa dei lavori</h2>`;
    return div;
  },

  onRemove: function (map) {
    // Nothing to do here
  },
});

L.control.rilievi = function (opts) {
  return new L.Control.Rilievi(opts);
};

L.control.rilievi({ position: "bottomleft" }).addTo(map);
